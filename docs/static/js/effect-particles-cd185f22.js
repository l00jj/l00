var B=Object.defineProperty;var $=(h,e,t)=>e in h?B(h,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):h[e]=t;var i=(h,e,t)=>($(h,typeof e!="symbol"?e+"":e,t),t);import{d as D,h as A,o as P,b as I,e as T,f as q,X as O,i as j,p as G,g as W,a as H,w as S,s as k}from"./vendor-1d624232.js";import{V as F,a as X}from"./EffectsProjectView_Item-c822eee4.js";import{_ as E}from"./plugin-vue_export-helper-4223c0cf.js";import{E as Y}from"./EventEmitter-85f22796.js";const J={class:"background"},K=D({name:"l00-FireworksParticles-A",setup(h){const e=A();class t{constructor(c,m,o){i(this,"id",Symbol());i(this,"style",{top:"",left:"",width:"",height:"","--rotate":"0deg"});let f="";const b=document.createElement("span");b.classList.add("particle"),f+=`top:${m}px;`,f+=`left:${c}px;`;const v=Math.random()*8;f+=`width:${2+v}px;`,f+=`height:${2+v}px;`,f+=`--rotate:${Math.random()*360}deg;`,b.style.cssText=f,o.appendChild(b),setTimeout(()=>b.remove(),2*1e3)}}const a=(r,c)=>{n(r,c)},n=(r,c)=>{const m=e.value;new t(r,c,m)},s=r=>{a(r.offsetX,r.offsetY)};return(r,c)=>(P(),I("section",J,[T("div",{class:"container",onMousemove:s,ref_key:"container",ref:e},[q(`       <TransitionGroup name="fade">
        <span class="particle" v-for="item in list" :style="item.style" :key="item.id"></span>
      </TransitionGroup> `)],544)]))}});var Q=E(K,[["__scopeId","data-v-5fb79a02"],["__file","/Volumes/Work/l00 Studio/l00/source/src/effects-components/effect-particles/l00-FireworksParticles-A.vue"]]),U="/l00/static/jpg/l00-MaskParticles-A-BG-d96ed045.jpg",R={exports:{}};(function(h,e){(function(t,a){h.exports=a()})(O,function(){var t=function(){function a(d){return r.appendChild(d.dom),d}function n(d){for(var u=0;u<r.children.length;u++)r.children[u].style.display=u===d?"block":"none";s=d}var s=0,r=document.createElement("div");r.style.cssText="position:fixed;top:0;left:0;cursor:pointer;opacity:0.9;z-index:10000",r.addEventListener("click",function(d){d.preventDefault(),n(++s%r.children.length)},!1);var c=(performance||Date).now(),m=c,o=0,f=a(new t.Panel("FPS","#0ff","#002")),b=a(new t.Panel("MS","#0f0","#020"));if(self.performance&&self.performance.memory)var v=a(new t.Panel("MB","#f08","#201"));return n(0),{REVISION:16,dom:r,addPanel:a,showPanel:n,begin:function(){c=(performance||Date).now()},end:function(){o++;var d=(performance||Date).now();if(b.update(d-c,200),d>m+1e3&&(f.update(1e3*o/(d-m),100),m=d,o=0,v)){var u=performance.memory;v.update(u.usedJSHeapSize/1048576,u.jsHeapSizeLimit/1048576)}return d},update:function(){c=this.end()},domElement:r,setMode:n}};return t.Panel=function(a,n,s){var r=1/0,c=0,m=Math.round,o=m(window.devicePixelRatio||1),f=80*o,b=48*o,v=3*o,d=2*o,u=3*o,_=15*o,y=74*o,g=30*o,w=document.createElement("canvas");w.width=f,w.height=b,w.style.cssText="width:80px;height:48px";var l=w.getContext("2d");return l.font="bold "+9*o+"px Helvetica,Arial,sans-serif",l.textBaseline="top",l.fillStyle=s,l.fillRect(0,0,f,b),l.fillStyle=n,l.fillText(a,v,d),l.fillRect(u,_,y,g),l.fillStyle=s,l.globalAlpha=.9,l.fillRect(u,_,y,g),{dom:w,update:function(x,V){r=Math.min(r,x),c=Math.max(c,x),l.fillStyle=s,l.globalAlpha=1,l.fillRect(0,0,f,_),l.fillStyle=n,l.fillText(m(x)+" "+a+" ("+m(r)+"-"+m(c)+")",v,d),l.drawImage(w,u+o,_,y-o,g,u,_,y-o,g),l.fillRect(u+y-o,_,o,g),l.fillStyle=s,l.globalAlpha=.9,l.fillRect(u+y-o,_,o,m((1-x/V)*g))}}},t})})(R);var Z=R.exports;class ee extends Z{constructor(e){super(),this.showPanel(0),e&&e.appendChild(this.dom),this.dom.style.position="absolute"}}class N{constructor(e){i(this,"main");i(this,"width",0);i(this,"height",0);this.main=e,this.updateSize(),N.resizeObserve(this)}static resizeObserve(e){const t=e.main;if(window.ResizeObserver){const a=new ResizeObserver(n=>e.updateSize());a.observe(t.viewContainerDom),t.onDestroyed(()=>a.disconnect())}else{const a=()=>e.updateSize();window.addEventListener("resize",a),t.onDestroyed(()=>window.removeEventListener("resize",a))}}updateSize(){const{viewContainerDom:e,canvasDom:t}=this.main;if(!e||!t)return;const{offsetWidth:a,offsetHeight:n}=e;this.width=a,this.height=n,t.width=a,t.height=n,t.style.width=a+"px",t.style.height=n+"px",this.main.emit(p.Event_Resize)}onResize(e){return this.main.on(p.Event_Resize,e)}}class te{constructor(e){i(this,"main");i(this,"start");i(this,"current");i(this,"elapsed");i(this,"delta");i(this,"requestAnimationFrameID",0);i(this,"onTickLoopFunction",()=>{const e=Date.now();this.delta=e-this.current,this.current=e,this.elapsed=this.current-this.start,this.main.emit(p.Event_Tick),this.currentTickLoopFunction&&(this.requestAnimationFrameID=window.requestAnimationFrame(this.currentTickLoopFunction))});i(this,"currentTickLoopFunction");i(this,"isTicking",!1);this.main=e,this.start=Date.now(),this.current=this.start,this.elapsed=0,this.delta=16}tick(){this.currentTickLoopFunction||(this.currentTickLoopFunction=this.main.params.helper.stats.enable?()=>{var e,t;(e=this.main.stats)==null||e.begin(),this.onTickLoopFunction(),(t=this.main.stats)==null||t.end()}:this.onTickLoopFunction,this.isTicking||(this.isTicking=!0,this.current=Date.now()-Math.trunc(1e3/60),this.currentTickLoopFunction()))}paused(){this.isTicking&&(window.cancelAnimationFrame(this.requestAnimationFrameID),this.currentTickLoopFunction=void 0,this.isTicking=!1)}onTick(e){return this.main.on(p.Event_Tick,e)}}class C{constructor(e){i(this,"main");i(this,"target",{x:NaN,y:NaN});this.main=e,C.deployControls(this)}static deployControls(e){const{canvasDom:t}=e.main,a=(s,r,c)=>{e.target.x=r,e.target.y=c,e.main.emit(p.Event_Controler_Changed,s,r,c)},n=s=>{a("move",s.layerX,s.layerY)};t.addEventListener("mousemove",n),e.main.onDestroyed(()=>t.removeEventListener("mousemove",n))}onChenged(e){return this.main.on(p.Event_Controler_Changed,e)}}const L=class{constructor(e,t){i(this,"main");i(this,"type");i(this,"attribute",{x:NaN,y:NaN,size:NaN,renderSize:NaN,vector:NaN,speed:NaN,color:"#fff",move:{outMode:null}});i(this,"onDestroy",()=>{});this.main=e,this.type=t}update(){const e=this.main.sizes,{delta:t}=this.main.time,{vector:a,speed:n,size:s}=this.attribute,r=n*t/1e3,c=this.attribute.move.outMode?this.attribute.move.outMode:this.main.params.particles.move.outMode;!Number.isNaN(a)&&!Number.isNaN(n)&&(this.attribute.x+=Math.sin(a)*r,this.attribute.y+=Math.cos(a)*r),L.modes.bubble(this),c==="out"?this.attribute.x<0:c==="bounce"&&(this.attribute.x<s?(this.attribute.x=Math.abs(s*2-this.attribute.x),this.attribute.vector=2*Math.PI-this.attribute.vector):this.attribute.x>e.width-s&&(this.attribute.x=(e.width-s)*2-this.attribute.x,this.attribute.vector=2*Math.PI-this.attribute.vector),(this.attribute.x<0||this.attribute.x>e.width)&&(this.attribute.x=Math.random()*e.width),this.attribute.y<s?(this.attribute.y=Math.abs(s*2-this.attribute.y),this.attribute.vector=Math.PI-this.attribute.vector):this.attribute.y>e.height-s&&(this.attribute.y=(e.height-s)*2-this.attribute.y,this.attribute.vector=Math.PI-this.attribute.vector),(this.attribute.y<0||this.attribute.y>e.height)&&(this.attribute.y=Math.random()*e.height))}render(){const{ctx:e}=this.main,t=Math.PI*2,{x:a,y:n,renderSize:s,color:r}=this.attribute;e.fillStyle=r,e.beginPath(),e.arc(a,n,s,0,t),e.fill()}destroy(){typeof this.onDestroy=="function"&&this.onDestroy()}};let M=L;i(M,"modes",{bubble(e){const t=e.attribute,a=e.main,{target:n}=a.controler,{bubble:s}=a.params.interactivity.modes,r=Math.sqrt(Math.pow(n.x-t.x,2)+Math.pow(n.y-t.y,2));r<s.distance?t.renderSize=Math.max(t.size,s.size*(1-r/s.distance)):t.renderSize=t.size}});class ie{constructor(e){i(this,"main");i(this,"controlerChenged",(e,t,a)=>{});i(this,"particlesList",new Set);this.main=e,this.main.controler.onChenged(this.controlerChenged),this.createBaseParticles()}createBaseParticles(){for(let n of this.particlesList)n.type==="base"&&this.particlesList.delete(n);const{params:e,sizes:t}=this.main,a=e.particles.baseNumber.value*(e.particles.baseNumber.density.enable?Math.round(t.width*t.height/e.particles.baseNumber.density.value**2):1);for(let n=0;n<a;n++){const s=new M(this.main,"base");this.particlesList.add(s),s.onDestroy=()=>this.particlesList.delete(s);const r=10;s.attribute.size=1+Math.random()*5,s.attribute.x=r+Math.random()*(t.width-r*2),s.attribute.y=r+Math.random()*(t.height-r*2),s.attribute.vector=Math.random()*Math.PI*2,s.attribute.speed=5+Math.random()*Math.PI*20,s.attribute.color="#000",s.attribute.move.outMode="bounce"}}render(){for(let e of this.particlesList)e.update(),e.render()}}class se{constructor(e){i(this,"main");i(this,"render",()=>{const{ctx:e,sizes:t,world:a,params:n}=this.main;e.fillStyle="#fff",e.fillRect(0,0,t.width,t.height),a.render()});this.main=e,this.main.time.onTick(this.render)}}const z=class extends Y{constructor(t,a){super();i(this,"params",{helper:{stats:{enable:!0}},particles:{baseNumber:{value:500,density:{enable:!0,value:800}},color:{value:"#ffffff"},shape:{type:"circle",stroke:{width:0,color:"#000000"},polygon:{nb_sides:5},image:{src:"img/github.svg",width:100,height:100}},opacity:{value:.5,random:!1,anim:{enable:!1,speed:1,opacity_min:.1,sync:!1}},size:{value:5,random:!0,anim:{enable:!1,speed:40,size_min:.1,sync:!1}},line_linked:{enable:!0,distance:150,color:"#ffffff",opacity:.4,width:1},move:{enable:!0,speed:6,direction:"none",random:!1,straight:!1,outMode:"out",attract:{enable:!1,rotateX:600,rotateY:1200}}},interactivity:{detect_on:"canvas",events:{onhover:{enable:!0,mode:"repulse"},onclick:{enable:!0,mode:"push"},resize:!0},modes:{grab:{distance:400,line_linked:{opacity:1}},bubble:{distance:400,size:100,duration:2,opacity:8,speed:3},repulse:{distance:200},push:{particles_nb:4},remove:{particles_nb:2}}},retina_detect:!0,config_demo:{hide_card:!1,background_color:"#b61924",background_image:"",background_position:"50% 50%",background_repeat:"no-repeat",background_size:"cover"}});i(this,"time");i(this,"sizes");i(this,"renderer");i(this,"controler");i(this,"world");i(this,"viewContainerDom");i(this,"canvasDom",window.document.createElement("canvas"));i(this,"ctx",this.canvasDom.getContext("2d"));i(this,"stats");this.params.helper.stats.enable&&(this.stats=new ee(t)),this.viewContainerDom=t,this.time=new te(this),this.sizes=new N(this),this.controler=new C(this),this.renderer=new se(this),this.world=new ie(this),this.viewContainerDom.appendChild(this.canvasDom)}render(){this.time.tick()}paused(){this.time.paused()}onDestroyed(t){return this.once(z.Event_Destroyed,t)}destroy(){this.emit(z.Event_Destroyed)}};let p=z;i(p,"Event_Tick",Symbol()),i(p,"Event_Resize",Symbol()),i(p,"Event_Destroyed",Symbol()),i(p,"Event_Controler_Changed",Symbol());const ae=p;const re=h=>(G("data-v-6de54a18"),h=h(),W(),h),ne={class:"background"},oe=re(()=>T("img",{class:"bgimg",src:U},null,-1)),ce=D({name:"l00-MaskParticles-A",setup(h){const e=A();return j(()=>{new ae(e.value).render()}),(t,a)=>(P(),I("section",ne,[oe,T("div",{class:"viewContainer",ref_key:"viewDom",ref:e},null,512)]))}});var le=E(ce,[["__scopeId","data-v-6de54a18"],["__file","/Volumes/Work/l00 Studio/l00/source/src/effects-components/effect-particles/l00-MaskParticles-A.vue"]]);const he=D({name:"effect-particles",setup(h){return(e,t)=>(P(),H(X,null,{default:S(()=>[k(F,{style:{height:"90vh"},name:"effect-particles-mask-a"},{default:S(()=>[k(le)]),_:1}),k(F,{style:{height:"90vh"},name:"effect-particles-fireworks-a"},{default:S(()=>[k(Q)]),_:1})]),_:1}))}});var be=E(he,[["__file","/Volumes/Work/l00 Studio/l00/source/src/effects-components/effect-particles/effect-particles.vue"]]);export{be as default};
