var P=Object.defineProperty;var N=(a,n,u)=>n in a?P(a,n,{enumerable:!0,configurable:!0,writable:!0,value:u}):a[n]=u;var d=(a,n,u)=>(N(a,typeof n!="symbol"?n+"":n,u),u);import{d as T,h as L,o as x,b as w,e as s,O as X,u as E,j as F,p as O,g as V,r as B,i as j,l as U,n as W,t as R,F as H,x as J,a as K,w as $,s as q}from"./vendor-1d624232.js";import{V as A,a as Q}from"./EffectsProjectView_Item-c822eee4.js";import{_ as Y}from"./plugin-vue_export-helper-4223c0cf.js";import{c as tt,f as et}from"./Tools-9d74bd07.js";import{E as st}from"./EventEmitter-85f22796.js";const it=a=>(O("data-v-5c73225a"),a=a(),V(),a),ot={class:"background"},nt={class:"container"},at=it(()=>s("svg",null,[s("filter",{id:"blurMe"},[s("feGaussianBlur",{in:"SourceGraphic",stdDeviation:"10"}),s("feColorMatrix",{type:"matrix",values:`
      1 0 0 0 0
      0 1 0 0 0 
      0 0 1 0 0 
      0 0 0 20 -10 `})])],-1)),rt=T({name:"l00-GooeyLiquid-A",setup(a){const n=L(!1),u=()=>n.value=!n.value,S=(()=>{const k=i=>{let b,_,h,y,v=!1;const z=c=>{const f=c.target;b=c.clientX,_=c.clientY,f.style.left.match(/\d*/),h=parseInt(f.style.left.match(/\d*/)[0]),h=h||0,y=parseInt(f.style.top.match(/\d*/)[0]),y=y||0,v=!0},I=c=>{if(!v)return;v=!1,setTimeout(()=>v=!0,300);const{clientX:f,clientY:l}=c,t=c.target;t.style.left=`${h+f-b}px`,t.style.top=`${y+l-_}px`};i.draggable=!0,i.addEventListener("dragstart",z),i.addEventListener("drag",I),i.addEventListener("dragover",c=>c.preventDefault())};return{created(i){k(i)}}})();return(k,i)=>(x(),w("div",ot,[s("section",null,[s("div",nt,[X(s("div",{class:F(`circle circle1 ${n.value?"animation":""}`),style:{top:"30px",left:"30px"},onClick:u},null,2),[[E(S)]]),X(s("div",{class:F(`circle circle2 ${n.value?"animation":""}`),style:{top:"30px",left:"180px"},onClick:u},null,2),[[E(S)]])])]),at]))}});var ct=Y(rt,[["__scopeId","data-v-5c73225a"],["__file","/Volumes/Work/l00 Studio/l00/source/src/effects-components/effect-gooey-liquid/l00-GooeyLiquid-A.vue"]]);const D=a=>(O("data-v-5c56f358"),a=a(),V(),a),lt={class:"background"},ut={class:"drops"},pt=D(()=>s("div",{class:"physics-block",style:{top:"0"}},null,-1)),ht=D(()=>s("div",{class:"physics-block",style:{bottom:"0"}},null,-1)),dt=["id"],ft=D(()=>s("feGaussianBlur",{in:"SourceGraphic",stdDeviation:"15"},null,-1)),mt=D(()=>s("feColorMatrix",{type:"matrix",values:`
      1 0 0 0 0
      0 1 0 0 0 
      0 0 1 0 0 
      0 0 0 30 -15`},null,-1)),_t=[ft,mt],yt=T({name:"l00-GooeyLiquid-B",setup(a){const n=L(),u=L(),S=tt(),k=L("Welcome to l00 Gooey Liquid Effect"),i=B({svg:{filter:{id:`filter_${S}`,useID:`url(#filter_${S})`}},quantity:30,containerWidth:0,containerHeight:0,physics:{slowZone:[]}}),b=L(`--useFilter:${i.svg.filter.useID};`),_=[],h=B(new Set);class y{constructor(){d(this,"parameter",{sizeRatio:0,positionXRatio:0,baseSize:50,size:0,baseOffset:0,positionX:0,positionY:0});d(this,"style",{width:"0px",height:"0px",transform:""});d(this,"physics",{constantSpeed:0,speed:0,gravity:9});this.init(!0)}init(t){this.random(),this.setSize(),this.setPosition(),this.setSizeStyle(),this.resize(),t&&this.initRandomPositionY()}random(){this.parameter.sizeRatio=Math.random(),this.parameter.positionXRatio=Math.random()}setSize(){const{baseSize:t}=this.parameter,e=Math.trunc(t+this.parameter.sizeRatio*t*2);this.parameter.size=e}setPosition(){const t=-this.parameter.size/2;this.parameter.baseOffset=t,this.parameter.positionX=0+t,this.parameter.positionY=0}setSizeStyle(){this.style.width=`${this.parameter.size}px`,this.style.height=`${this.parameter.size}px`}resize(){const t=i.containerWidth,e=i.containerHeight,o=et(t*this.parameter.positionXRatio,2);this.parameter.positionX=this.parameter.baseOffset+o;const r=Math.trunc(e/15);this.physics.constantSpeed=r>0?r:10;const p=Math.trunc(e*1.3);this.physics.gravity=p>0?p:1,this.physics.speed=0}checkInSlowZone(t){const e=i.physics.slowZone,o=(r,p)=>{let m=[Math.min(...r),Math.min(...p)],g=[Math.max(...r),Math.max(...p)];return Math.max(...m)<=Math.min(...g)};for(let r of e){const p=o([r[0],r[2]],[t[0][0],t[1][0]]),m=o([r[1],r[3]],[t[0][1],t[1][1]]);if(p&&m)return!0}return!1}update(t){const{parameter:e,physics:o}=this,{size:r,baseOffset:p,positionX:m,positionY:g}=this.parameter,{delta:Z}=t,M=Z/1e3,G=m-p;this.checkInSlowZone([[G,g+p*2],[G,g]])?o.speed=o.speed-(o.speed-o.constantSpeed)*M*20/2:o.speed+=o.gravity*M;const C=o.speed*M;e.positionY+=C,e.positionY>i.containerHeight+r&&this.init(),this.style.transform=`translate(${m}px,${e.positionY}px)`}initRandomPositionY(){const t=Math.round(Math.random()*i.containerHeight);this.parameter.positionY=t}}const v=()=>{for(let l=0;l<i.quantity;l++){const t=new y;h.add(t)}},z=()=>{const l=n.value,t=l.offsetWidth,e=l.offsetHeight;i.containerWidth=t,i.containerHeight=e,_.forEach(o=>{const r=o.offsetLeft,p=o.offsetTop,m=o.offsetLeft+o.offsetWidth,g=o.offsetTop+o.offsetHeight;i.physics.slowZone.push([r,p,m,g])})};class I extends st{constructor(){super();d(this,"start");d(this,"current");d(this,"elapsed");d(this,"delta");d(this,"onTickLoopFunction",()=>{const e=Date.now();this.delta=e-this.current,this.current=e,this.elapsed=this.current-this.start,this.emit("tick"),window.requestAnimationFrame(this.currentTickLoopFunction)});d(this,"currentTickLoopFunction",()=>{});this.start=Date.now(),this.current=this.start,this.elapsed=0,this.delta=16}tick(){this.currentTickLoopFunction!==this.onTickLoopFunction&&(this.currentTickLoopFunction=this.onTickLoopFunction,this.currentTickLoopFunction())}onTick(e){return this.on("tick",e)}destroy(){return this.currentTickLoopFunction=()=>{},this.clearEvents()}}const c=new I;c.onTick(()=>{h.forEach(l=>l.update(c))});const f=new ResizeObserver(l=>{z(),h.forEach(t=>t.init(!0))});return j(()=>{z(),v(),c.tick(),f.observe(n.value),f.observe(u.value)}),U(()=>{c.destroy(),f.disconnect()}),(l,t)=>(x(),w(H,null,[s("section",lt,[s("div",{class:"container",ref_key:"container",ref:n,style:W(b.value)},[s("div",{class:"physics-block",style:{top:"0"},ref:e=>_.push(e)},null,512),s("div",{class:"physics-block",style:{bottom:"0"},ref:e=>_.push(e)},null,512),s("div",{class:"text",physics:"",ref:e=>_.push(e)},[s("span",null,R(k.value),1)],512),s("div",ut,[(x(!0),w(H,null,J(h,e=>(x(),w("span",{style:W(e.style)},null,4))),256))])],4),pt,ht,s("div",{class:"text",ref_key:"textbox",ref:u},[s("span",null,R(k.value),1)],512)]),(x(),w("svg",null,[s("filter",{id:i.svg.filter.id},_t,8,dt)]))],64))}});var vt=Y(yt,[["__scopeId","data-v-5c56f358"],["__file","/Volumes/Work/l00 Studio/l00/source/src/effects-components/effect-gooey-liquid/l00-GooeyLiquid-B.vue"]]);const gt=T({name:"effect-gooey-liquid",setup(a){return(n,u)=>(x(),K(Q,null,{default:$(()=>[q(A,{style:{height:"90vh"},name:"effect-gooey-liquid-b"},{default:$(()=>[q(vt)]),_:1}),q(A,{style:{height:"90vh"},name:"effect-gooey-liquid-a"},{default:$(()=>[q(ct)]),_:1})]),_:1}))}});var qt=Y(gt,[["__file","/Volumes/Work/l00 Studio/l00/source/src/effects-components/effect-gooey-liquid/effect-gooey-liquid.vue"]]);export{qt as default};
