var S=Object.defineProperty;var C=(o,t,e)=>t in o?S(o,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):o[t]=e;var i=(o,t,e)=>(C(o,typeof t!="symbol"?t+"":t,e),e);import{d as v,h as N,o as _,b as D,e as y,f as E,i as P,p as F,g as L,a as A,w as b,s as d}from"./vendor-3584b0a8.js";import{V as z,a as I}from"./EffectsProjectView_Item-47fedb92.js";import{_ as g}from"./plugin-vue_export-helper-46f75680.js";import{E as R}from"./EventEmitter-80978bd8.js";import{S as V}from"./Stats-a58de827.js";const $={class:"background"},B=v({name:"l00-FireworksParticles-A",setup(o){const t=N();class e{constructor(h,f,T){i(this,"id",Symbol());i(this,"style",{top:"",left:"",width:"",height:"","--rotate":"0deg"});let l="";const u=document.createElement("span");u.classList.add("particle"),l+=`top:${f}px;`,l+=`left:${h}px;`;const M=Math.random()*8;l+=`width:${2+M}px;`,l+=`height:${2+M}px;`,l+=`--rotate:${Math.random()*360}deg;`,u.style.cssText=l,T.appendChild(u),setTimeout(()=>u.remove(),2*1e3)}}const a=(n,h)=>{r(n,h)},r=(n,h)=>{const f=t.value;new e(n,h,f)},s=n=>{a(n.offsetX,n.offsetY)};return(n,h)=>(_(),D("section",$,[y("div",{class:"container",onMousemove:s,ref_key:"container",ref:t},[E(`       <TransitionGroup name="fade">
        <span class="particle" v-for="item in list" :style="item.style" :key="item.id"></span>
      </TransitionGroup> `)],544)]))}});var q=g(B,[["__scopeId","data-v-5fb79a02"],["__file","/Volumes/Work/l00 Studio/l00/source/src/effects-components/effect-particles/l00-FireworksParticles-A.vue"]]),O="/l00/static/jpg/l00-MaskParticles-A-BG-d96ed045.jpg";class w{constructor(t){i(this,"main");i(this,"width",0);i(this,"height",0);this.main=t,this.updateSize(),w.resizeObserve(this)}static resizeObserve(t){const e=t.main;if(window.ResizeObserver){const a=new ResizeObserver(r=>t.updateSize());a.observe(e.viewContainerDom),e.onDestroyed(()=>a.disconnect())}else{const a=()=>t.updateSize();window.addEventListener("resize",a),e.onDestroyed(()=>window.removeEventListener("resize",a))}}updateSize(){const{viewContainerDom:t,canvasDom:e}=this.main;if(!t||!e)return;const{offsetWidth:a,offsetHeight:r}=t;this.width=a,this.height=r,e.width=a,e.height=r,e.style.width=a+"px",e.style.height=r+"px",this.main.emit(c.Event_Resize)}onResize(t){return this.main.on(c.Event_Resize,t)}}class W{constructor(t){i(this,"main");i(this,"start");i(this,"current");i(this,"elapsed");i(this,"delta");i(this,"requestAnimationFrameID",0);i(this,"onTickLoopFunction",()=>{const t=Date.now();this.delta=t-this.current,this.current=t,this.elapsed=this.current-this.start,this.main.emit(c.Event_Tick),this.currentTickLoopFunction&&(this.requestAnimationFrameID=window.requestAnimationFrame(this.currentTickLoopFunction))});i(this,"currentTickLoopFunction");i(this,"isTicking",!1);this.main=t,this.start=Date.now(),this.current=this.start,this.elapsed=0,this.delta=16}tick(){this.currentTickLoopFunction||(this.currentTickLoopFunction=this.main.params.helper.stats.enable?()=>{var t,e;(t=this.main.stats)==null||t.begin(),this.onTickLoopFunction(),(e=this.main.stats)==null||e.end()}:this.onTickLoopFunction,this.isTicking||(this.isTicking=!0,this.current=Date.now()-Math.trunc(1e3/60),this.currentTickLoopFunction()))}paused(){this.isTicking&&(window.cancelAnimationFrame(this.requestAnimationFrameID),this.currentTickLoopFunction=void 0,this.isTicking=!1)}onTick(t){return this.main.on(c.Event_Tick,t)}}class k{constructor(t){i(this,"main");i(this,"target",{x:NaN,y:NaN});this.main=t,k.deployControls(this)}static deployControls(t){const{canvasDom:e}=t.main,a=(s,n,h)=>{t.target.x=n,t.target.y=h,t.main.emit(c.Event_Controler_Changed,s,n,h)},r=s=>{a("move",s.layerX,s.layerY)};e.addEventListener("mousemove",r),t.main.onDestroyed(()=>e.removeEventListener("mousemove",r))}onChenged(t){return this.main.on(c.Event_Controler_Changed,t)}}const x=class{constructor(t,e){i(this,"main");i(this,"type");i(this,"attribute",{x:NaN,y:NaN,size:NaN,renderSize:NaN,vector:NaN,speed:NaN,color:"#fff",move:{outMode:null}});i(this,"onDestroy",()=>{});this.main=t,this.type=e}update(){const t=this.main.sizes,{delta:e}=this.main.time,{vector:a,speed:r,size:s}=this.attribute,n=r*e/1e3,h=this.attribute.move.outMode?this.attribute.move.outMode:this.main.params.particles.move.outMode;!Number.isNaN(a)&&!Number.isNaN(r)&&(this.attribute.x+=Math.sin(a)*n,this.attribute.y+=Math.cos(a)*n),x.modes.bubble(this),h==="out"?this.attribute.x<0:h==="bounce"&&(this.attribute.x<s?(this.attribute.x=Math.abs(s*2-this.attribute.x),this.attribute.vector=2*Math.PI-this.attribute.vector):this.attribute.x>t.width-s&&(this.attribute.x=(t.width-s)*2-this.attribute.x,this.attribute.vector=2*Math.PI-this.attribute.vector),(this.attribute.x<0||this.attribute.x>t.width)&&(this.attribute.x=Math.random()*t.width),this.attribute.y<s?(this.attribute.y=Math.abs(s*2-this.attribute.y),this.attribute.vector=Math.PI-this.attribute.vector):this.attribute.y>t.height-s&&(this.attribute.y=(t.height-s)*2-this.attribute.y,this.attribute.vector=Math.PI-this.attribute.vector),(this.attribute.y<0||this.attribute.y>t.height)&&(this.attribute.y=Math.random()*t.height))}render(){const{ctx:t}=this.main,e=Math.PI*2,{x:a,y:r,renderSize:s,color:n}=this.attribute;t.fillStyle=n,t.beginPath(),t.arc(a,r,s,0,e),t.fill()}destroy(){typeof this.onDestroy=="function"&&this.onDestroy()}};let m=x;i(m,"modes",{bubble(t){const e=t.attribute,a=t.main,{target:r}=a.controler,{bubble:s}=a.params.interactivity.modes,n=Math.sqrt(Math.pow(r.x-e.x,2)+Math.pow(r.y-e.y,2));n<s.distance?e.renderSize=Math.max(e.size,s.size*(1-n/s.distance)):e.renderSize=e.size}});class G{constructor(t){i(this,"main");i(this,"controlerChenged",(t,e,a)=>{});i(this,"particlesList",new Set);this.main=t,this.main.controler.onChenged(this.controlerChenged),this.createBaseParticles()}createBaseParticles(){for(let r of this.particlesList)r.type==="base"&&this.particlesList.delete(r);const{params:t,sizes:e}=this.main,a=t.particles.baseNumber.value*(t.particles.baseNumber.density.enable?Math.round(e.width*e.height/t.particles.baseNumber.density.value**2):1);console.log(e.width,e.height,t.particles.baseNumber.density.value,Math.round(e.width*e.height/t.particles.baseNumber.density.value**2));for(let r=0;r<a;r++){const s=new m(this.main,"base");this.particlesList.add(s),s.onDestroy=()=>this.particlesList.delete(s);const n=10;s.attribute.size=1+Math.random()*5,s.attribute.x=n+Math.random()*(e.width-n*2),s.attribute.y=n+Math.random()*(e.height-n*2),s.attribute.vector=Math.random()*Math.PI*2,s.attribute.speed=5+Math.random()*Math.PI*20,s.attribute.color="#000",s.attribute.move.outMode="bounce"}}render(){for(let t of this.particlesList)t.update(),t.render()}}class X{constructor(t){i(this,"main");i(this,"render",()=>{const{ctx:t,sizes:e,world:a,params:r}=this.main;t.fillStyle="#fff",t.fillRect(0,0,e.width,e.height),a.render()});this.main=t,this.main.time.onTick(this.render)}}const p=class extends R{constructor(e,a){super();i(this,"params",{helper:{stats:{enable:!0}},particles:{baseNumber:{value:7,density:{enable:!0,value:100}},color:{value:"#ffffff"},shape:{type:"circle",stroke:{width:0,color:"#000000"},polygon:{nb_sides:5},image:{src:"img/github.svg",width:100,height:100}},opacity:{value:.5,random:!1,anim:{enable:!1,speed:1,opacity_min:.1,sync:!1}},size:{value:5,random:!0,anim:{enable:!1,speed:40,size_min:.1,sync:!1}},line_linked:{enable:!0,distance:150,color:"#ffffff",opacity:.4,width:1},move:{enable:!0,speed:6,direction:"none",random:!1,straight:!1,outMode:"out",attract:{enable:!1,rotateX:600,rotateY:1200}}},interactivity:{detect_on:"canvas",events:{onhover:{enable:!0,mode:"repulse"},onclick:{enable:!0,mode:"push"},resize:!0},modes:{grab:{distance:400,line_linked:{opacity:1}},bubble:{distance:400,size:100,duration:2,opacity:8,speed:3},repulse:{distance:200},push:{particles_nb:4},remove:{particles_nb:2}}},retina_detect:!0,config_demo:{hide_card:!1,background_color:"#b61924",background_image:"",background_position:"50% 50%",background_repeat:"no-repeat",background_size:"cover"}});i(this,"time");i(this,"sizes");i(this,"renderer");i(this,"controler");i(this,"world");i(this,"viewContainerDom");i(this,"canvasDom",window.document.createElement("canvas"));i(this,"ctx",this.canvasDom.getContext("2d"));i(this,"stats");this.params.helper.stats.enable&&(this.stats=new V(e)),this.viewContainerDom=e,this.time=new W(this),this.sizes=new w(this),this.controler=new k(this),this.renderer=new X(this),this.world=new G(this),this.viewContainerDom.appendChild(this.canvasDom)}render(){this.time.tick()}paused(){this.time.paused()}onDestroyed(e){return this.once(p.Event_Destroyed,e)}destroy(){this.emit(p.Event_Destroyed)}};let c=p;i(c,"Event_Tick",Symbol()),i(c,"Event_Resize",Symbol()),i(c,"Event_Destroyed",Symbol()),i(c,"Event_Controler_Changed",Symbol());const Y=c;const j=o=>(F("data-v-6de54a18"),o=o(),L(),o),H={class:"background"},J=j(()=>y("img",{class:"bgimg",src:O},null,-1)),K=v({name:"l00-MaskParticles-A",setup(o){const t=N();return P(()=>{new Y(t.value).render()}),(e,a)=>(_(),D("section",H,[J,y("div",{class:"viewContainer",ref_key:"viewDom",ref:t},null,512)]))}});var Q=g(K,[["__scopeId","data-v-6de54a18"],["__file","/Volumes/Work/l00 Studio/l00/source/src/effects-components/effect-particles/l00-MaskParticles-A.vue"]]);const U=v({name:"effect-particles",setup(o){return(t,e)=>(_(),A(I,null,{default:b(()=>[d(z,{style:{height:"90vh"},name:"effect-particles-mask-a"},{default:b(()=>[d(Q)]),_:1}),d(z,{style:{height:"90vh"},name:"effect-particles-fireworks-a"},{default:b(()=>[d(q)]),_:1})]),_:1}))}});var nt=g(U,[["__file","/Volumes/Work/l00 Studio/l00/source/src/effects-components/effect-particles/effect-particles.vue"]]);export{nt as default};
