var G=Object.defineProperty;var T=(a,i,n)=>i in a?G(a,i,{enumerable:!0,configurable:!0,writable:!0,value:n}):a[i]=n;var o=(a,i,n)=>(T(a,typeof i!="symbol"?i+"":i,n),n);import{d as b,r as S,j as O,C as j,w as y,o as z,c as C,a as A,p as P,e as k,i as H,g as I}from"./vendor-03f4c97d.js";import{_ as V}from"./preload-helper-33ac5944.js";import{G as W,C as R,M as D,A as F,a as L,S as N,P as q,W as B,T as U,b as u,c as $,O as J}from"./dat.gui.module-a176db7f.js";import{F as K,T as x,g as w}from"./index-5ec6505b.js";import{_ as E}from"./plugin-vue_export-helper-4223c0cf.js";const Q=a=>(P("data-v-79f299fc"),a=a(),k(),a),X=Q(()=>A("div",{class:"background"},null,-1)),Y=b({name:"l00-3DViews-A",props:{width:{type:Number,required:!0},height:{type:Number,required:!0}},setup(a){const i=a,n=S(),_=S();class M{constructor(t,e,c){o(this,"canvasEl");o(this,"size",{width:800,height:600});o(this,"gui",new W({closed:!0}));o(this,"guiHandle",{isShowAxesHelper:!1});o(this,"clock",new R);o(this,"mainScene");o(this,"mainCamera");o(this,"mainRenderer");o(this,"mainFont");o(this,"sceneObjects",{mainMaterial:new D,axesHelper:new F(1),fontGroup:new L,decorationArray:[]});this.canvasEl=t,this.size.width=e,this.size.height=c,this.mainScene=new N,this.mainCamera=new q(75),this.mainRenderer=new B({canvas:this.canvasEl,alpha:!0})}start(){this.fixGui(),this.resize(this.size.width,this.size.height);const t=this.sceneObjects.mainMaterial,e=27,c=new U(.3,.2,20,45);Array(300).fill(0).map((d,f)=>{const s=new u(c,t);s.position.x=(Math.random()-.5)*e,s.position.y=(Math.random()-.3)*e,s.position.z=(Math.random()-.8)*e,s.rotation.x=Math.random()*Math.PI,s.rotation.y=Math.random()*Math.PI;const m=Math.random();s.scale.set(m,m,m),this.sceneObjects.decorationArray.push(s),this.mainScene.add(s)});const h=new $(.4,.6,3);Array(300).fill(0).map((d,f)=>{const s=new u(h,t);s.position.x=(Math.random()-.5)*e,s.position.y=(Math.random()-.3)*e,s.position.z=(Math.random()-.8)*e,s.rotation.x=Math.random()*Math.PI,s.rotation.y=Math.random()*Math.PI;const m=Math.random();s.scale.set(m,m,m),this.sceneObjects.decorationArray.push(s),this.mainScene.add(s)}),setTimeout(()=>this.confusion(e),37);const p=new K;V(()=>import("./helvetiker_regular.typeface-50683bef.js"),[]).then(d=>{const f=d.default;p.load(f,s=>{this.mainFont=s,this.addTextToScene()})}),this.mainScene.add(this.sceneObjects.fontGroup),this.mainCamera.position.z=4,this.mainCamera.position.x=0,this.mainCamera.position.y=-1.5,this.mainCamera.lookAt(0,0,0),this.mainScene.add(this.mainCamera);const l=d=>{(typeof d=="boolean"?d:this.guiHandle.isShowAxesHelper)?this.mainScene.add(this.sceneObjects.axesHelper):this.mainScene.remove(this.sceneObjects.axesHelper)};l(),this.gui.add(this.guiHandle,"isShowAxesHelper").onChange(d=>{l()});const g=new J(this.mainCamera,this.canvasEl);g.enableDamping=!0,this.sceneObjects.orbitControl=g,this.mainRenderer.setClearColor(16777215,0)}addTextToScene(){const t=this.sceneObjects.fontGroup,e=this.sceneObjects.mainMaterial,c={font:this.mainFont,size:.5,height:.2,curveSegments:5,bevelEnabled:!0,bevelThickness:.03,bevelSize:.02,bevelOffset:0,bevelSegments:4};if(t.clear(),this.size.width/this.size.height>1){const h=new x("Welcome to l00 studio",c),p=new u(h,e);h.center(),t.add(p)}else{const h=new x("Welcome To",c),p=new u(h,e);h.center(),h.translate(0,.4,0);const l=new x("l00 Studio",c),g=new u(l,e);l.center(),l.translate(0,-.4,0),t.add(p,g)}}confusion(t){this.sceneObjects.decorationArray.forEach(e=>{w.to(e.position,{duration:2.5,x:(Math.random()-.5)*t}),w.to(e.position,{duration:2.5,y:(Math.random()-.3)*t}),w.to(e.position,{duration:2.5,z:(Math.random()-.8)*t}),w.to(e.rotation,{duration:2.5,x:Math.random()*Math.PI}),w.to(e.rotation,{duration:2.5,y:Math.random()*Math.PI})}),setTimeout(()=>this.confusion(t),3700)}fixGui(){const t=_.value,e=this.gui.domElement.parentElement;t.appendChild(e),e.style.position="absolute"}resize(t,e){this.size.width=t,this.size.height=e,this.mainCamera.aspect=t/e,this.mainCamera.updateProjectionMatrix(),this.mainRenderer.setSize(this.size.width,this.size.height),this.mainRenderer.setPixelRatio(Math.min(window.devicePixelRatio,2))}render(){var t;(t=this.sceneObjects.orbitControl)==null||t.update(),this.mainRenderer.render(this.mainScene,this.mainCamera),window.requestAnimationFrame(()=>this.render())}}let r;return O(()=>{const v=n.value;r=new M(v,i.width,i.height),r.start(),r.render(),j(()=>{const t=r.size.width/r.size.height>1,e=i.width/i.height>1;r.resize(i.width,i.height),t!==e&&r.addTextToScene()})}),y(()=>{r.gui.destroy()}),(v,t)=>(z(),C("div",{class:"gui-wrap",ref_key:"guiWrap",ref:_},[X,A("canvas",{class:"",ref_key:"canvas",ref:n},null,512)],512))}});var Z=E(Y,[["__scopeId","data-v-79f299fc"],["__file","/Volumes/Work/l00 Studio/l00/source/src/graphics-components/simple-3d-text/l00-3DViews-A.vue"]]);const ee={id:"main"},te=b({name:"simple-3d-text",setup(a){const i=H({width:0,height:0}),n=()=>{i.width=window.innerWidth,i.height=window.innerHeight};return n(),window.addEventListener("resize",n),y(()=>{window.removeEventListener("resize",n)}),(_,M)=>(z(),C("div",ee,[I(Z,{width:i.width,height:i.height},null,8,["width","height"])]))}});var ce=E(te,[["__file","/Volumes/Work/l00 Studio/l00/source/src/graphics-components/simple-3d-text/simple-3d-text.vue"]]);export{ce as default};
