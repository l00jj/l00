var m=Object.defineProperty;var f=(r,t,e)=>t in r?m(r,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):r[t]=e;var s=(r,t,e)=>(f(r,typeof t!="symbol"?t+"":t,e),e);import{d as p,r as d,o as u,m as _,w,c as v,a as c,t as y,x as S,k as g,T as P,p as A,e as R,h as M,y as x,z as C}from"./vendor-49bb960b.js";import{_ as E}from"./plugin-vue_export-helper-4223c0cf.js";class H{constructor(t,e){s(this,"id");s(this,"title");s(this,"date");s(this,"time");s(this,"coverUrl");s(this,"href");s(this,"vue");const o=t.split("/"),i=o[o.length-2];this.id=i,this.title=e.title,this.date=e.date,this.time=new Date(e.date).valueOf(),this.coverUrl=e.coverUrl,this.vue=e.vue}}class N{constructor(t,e){s(this,"function");s(this,"isOnce");this.function=t,this.isOnce=e.isOnce?e.isOnce:!1}}class O{constructor(){s(this,"__emittersMap__",new WeakMap);s(this,"__emitters__",new Map)}on(t,e){if(typeof t!="string"||t===""||typeof e!="function")return!1;let o=this.__emitters__.get(t);if(o||(o=new Set,this.__emitters__.set(t,o)),this.__emittersMap__.has(e))return!1;{const i=new N(e,{isOnce:!1});this.__emittersMap__.set(e,i),o.add(i)}return!0}once(t,e){if(this.on(t,e)){const o=this.__emittersMap__.get(e);if(!o)return!1;o.isOnce=!0}else return!1;return!0}off(t,e){const o=this.__emitters__.get(t);if(!o)return!1;const i=this.__emittersMap__.get(e);return i?(this.__emittersMap__.delete(e),o.delete(i),o.size===0&&this.__emitters__.delete(t),!0):!1}offAll(t){const e=this.__emitters__.get(t);return e?(e.clear(),this.__emitters__.delete(t),!0):!1}clearEvents(){return this.__emitters__.clear(),!0}async emit(t,...e){const o=this.__emitters__.get(t);if(!!o)for(let i of o.values()){try{await i.function.apply(void 0,e)}catch(a){console.error(a)}i.isOnce&&this.off(t,i.function)}}}const U=r=>(A("data-v-919732dc"),r=r(),R(),r),k={class:"content"},B=U(()=>c("h1",null,"404 - Sorry Not Find",-1)),L=p({name:"Alert404",props:{controler:{type:null,required:!0}},setup(r){const t=r,e=d(window.location.href);return t.controler.onUpdate(()=>{e.value=window.location.href}),(o,i)=>(u(),_(P,{onAfterLeave:r.controler.afterLeave},{default:w(()=>[t.controler.isShow.value?(u(),v("div",{key:0,class:"alert404",onClick:i[1]||(i[1]=S((...a)=>r.controler.hide&&r.controler.hide(...a),["self"]))},[c("div",k,[B,c("span",null,y(e.value),1),c("a",{onClick:i[0]||(i[0]=(...a)=>r.controler.hide&&r.controler.hide(...a))})])])):g("v-if",!0)]),_:1},8,["onAfterLeave"]))}});var V=E(L,[["__scopeId","data-v-919732dc"],["__file","/Volumes/Work/l00 Studio/l00/source/src/components/Alert404/Alert404.vue"]]);class j extends O{constructor(e={}){super();s(this,"isShow",d(!1));s(this,"app",M(V,{controler:this}));s(this,"wraper",window.document.createElement("DIV"));s(this,"show",()=>{this.update(),this.isShow.value=!0,document.body.appendChild(this.wraper)});s(this,"hide",()=>{this.isShow.value&&(this.isShow.value=!1)});s(this,"update",()=>{this.emit("update")});s(this,"onUpdate",e=>{this.on("update",e)});s(this,"afterLeave",()=>{this.isShow.value||document.body.removeChild(this.wraper)});this.app.mount(this.wraper)}}const h=new j,l={show(){h.show()},hide(){h.hide()}},D=r=>{const t=r.id,e=`/${r.id}`;return{name:t,path:e,component:r.vue}};class I{constructor(t,e){s(this,"indexPageRouteName",Symbol());s(this,"_404PageRouteName",Symbol());s(this,"projectPaths",[]);s(this,"routes",[]);s(this,"router");s(this,"projects");this.projects=t;const o={name:this.indexPageRouteName,path:"/",component:e};this.routes.push(o);const i={name:this._404PageRouteName,path:"/:pathMatch(.+)+",component:e};this.routes.push(i),t.forEach(a=>{const n=D(a);a.href=n.path,this.projectPaths.push(n.path),this.routes.push(n)}),this.router=x({history:C(),routes:this.routes,strict:!0}),this.router.beforeEach(async(a,n)=>{a.name===this._404PageRouteName?l.show():l.hide()})}clearRoutes(){}}export{O as E,I as P,H as a};
